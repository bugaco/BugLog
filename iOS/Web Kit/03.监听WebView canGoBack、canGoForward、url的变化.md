# 监听WebView canGoBack、canGoForward、url的变化





```swift
    var canGoBackObservationToken: NSKeyValueObservation?
    var canGoForwardObservationToken: NSKeyValueObservation?
    var urlObservationToken: NSKeyValueObservation?
```



```swift
        canGoBackObservationToken = webView.observe(\.canGoBack) { (object, change) in
            self.backButton.isEnabled = self.webView.canGoBack
        }

        canGoForwardObservationToken = webView.observe(\.canGoForward) { (object, change) in
            self.forwardButton.isEnabled = self.webView.canGoForward
        }
        
        urlObservationToken = webView.observe(\.url, changeHandler: { (object, change) in
            print("url changed\n title: \(self.webView.title ?? "无")\nchange: \(String(describing: self.webView.url))\n")
        })
```



